<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Doctor Profile</title>
    <link rel="stylesheet" href="DoctorDash.css">
    <script>
        // Function to fetch doctor profile data using XHR (XMLHttpRequest)
        function fetchDoctorProfile() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.responseText);
                        // Update HTML elements with fetched data
                        document.getElementById('doctorID').textContent = data.ID;
                        document.getElementById('doctorName').textContent = data.Name;
                        document.getElementById('doctorAge').textContent = data.Age;
                        document.getElementById('doctorGender').textContent = data.Gender;
                        document.getElementById('doctorPhoneNumber').textContent = data.PhoneNumber;
                        document.getElementById('doctorEmail').textContent = data.Email;
                        document.getElementById('doctorNID').textContent = data.NID;
                        document.getElementById('doctorYearsOfExperience').textContent = data.YearsOfExperience;
                        document.getElementById('doctorAddress').textContent = `${data.District}, ${data.Sub_District}`;
                        document.getElementById('doctorEducation').textContent = data.Education;
                        document.getElementById('doctorCertifications').textContent = data.Certifications;
                        document.getElementById('doctorHospitalAffiliation').textContent = data.HospitalAffiliation;
                    } else {
                        console.error('Error fetching doctor profile. Status:', xhr.status);
                    }
                }
            };
            xhr.open('GET', 'fetch_doctor_profile.php', true);
            xhr.send();
        }

        // Call fetchDoctorProfile function when the page loads
        window.onload = fetchDoctorProfile;
    </script>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>E-DiaCare</h2>
            <ul class="sidebar-menu">
                <li><a href="doctor_dashboard.html">Doctor Dashboard Overview</a></li>
                <li><a href="doctor_profile.html">View Profile</a></li>
                <li><a href="doctor_appointments.html">Manage Appointments</a></li>
                <li><a href="doctor_chat.html">Chat with patients</a></li>
                <li><a href="../Home/index.html">Logout</a></li>
            </ul>
        </div>
        <div class="photo">
            <img src="images/DrMekat.jpg" alt="Photo">
        </div>
        <div class="main-content-wrapper">
            <header class="header">
                <h1 class="welcome-title">View Doctor Profile</h1>
            </header>
            <div class="main-content">
                <h2>Doctor Profile</h2>
                <table class="profile-table">
                    <tr>
                        <th>Attribute</th>
                        <th>Value</th>
                    </tr>
                    <tr>
                        <td>ID:</td>
                        <td><span id="doctorID"></span></td>
                    </tr>
                    <tr>
                        <td>Name:</td>
                        <td><span id="doctorName"></span></td>
                    </tr>
                    <tr>
                        <td>Age:</td>
                        <td><span id="doctorAge"></span></td>
                    </tr>
                    <tr>
                        <td>Gender:</td>
                        <td><span id="doctorGender"></span></td>
                    </tr>
                    <tr>
                        <td>Phone Number:</td>
                        <td><span id="doctorPhoneNumber"></span></td>
                    </tr>
                    <tr>
                        <td>Email:</td>
                        <td><span id="doctorEmail"></span></td>
                    </tr>
                    <tr>
                        <td>Address:</td>
                        <td><span id="doctorAddress"></span></td>
                    </tr>
                    <tr>
                        <td>NID:</td>
                        <td><span id="doctorNID"></span></td>
                    </tr>
                    <tr>
                        <td>Education:</td>
                        <td><span id="doctorEducation"></span></td>
                    </tr>
                    <tr>
                        <td>Certifications:</td>
                        <td><span id="doctorCertifications"></span></td>
                    </tr>
                    <tr>
                        <td>Years of Experience:</td>
                        <td><span id="doctorYearsOfExperience"></span></td>
                    </tr>
                    <tr>
                        <td>Hospital Affiliation:</td>
                        <td><span id="doctorHospitalAffiliation"></span></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
